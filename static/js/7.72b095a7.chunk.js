(this["webpackJsonpeos-host"]=this["webpackJsonpeos-host"]||[]).push([[7],{198:function(e,t,r){"use strict";r.r(t);var n=r(1),o=r.n(n),a=r(5),s=r(17),i=r(16),c=r.n(i)()("eos:storage");t.default=function(){var e=Object(a.a)(o.a.mark((function e(t){var r,n,i,u,p,f;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=function(){return(f=Object(a.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=JSON.stringify(n)).length>1024)){e.next=4;break}return console.error("persistent state is too large, cannot save..."),e.abrupt("return");case 4:if(t!==u){e.next=6;break}return e.abrupt("return");case 6:return u=t,e.next=9,r.call("saveStorage",{state:t});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)},p=function(){return f.apply(this,arguments)},r=t(s.a),e.t0=JSON,e.next=6,r.call("loadStorage");case 6:return e.t1=e.sent,n=e.t0.parse.call(e.t0,e.t1),c("loaded state %j",n),i=function(e,t){var r=Promise.resolve(),o=function(){r=r.then((function(){return p().catch((function(e){console.error('Error while storing persistent value "'.concat(a,'": ')+e)}))})),e.setProperty(s,"length",Object.keys(n).length)};function a(e){if("number"!==typeof e)throw new TypeError("Index must be a number");return Object.keys(n)[e]}var s=e.createObject(e.OBJECT);e.setProperty(s,"length",Object.keys(n).length),e.setProperty(s,"key",e.createNativeFunction(a)),e.setProperty(s,"getItem",e.createNativeFunction((function(t){if("string"!==typeof t)throw new TypeError("Key must be a string");return-1!==Object.keys(n).indexOf(t)?e.nativeToPseudo(n[t]):void 0}))),e.setProperty(s,"setItem",e.createNativeFunction((function(t,r){if("string"!==typeof t)throw new TypeError("Key must be a string");n[t]=JSON.parse(JSON.stringify(e.pseudoToNative(r))),o()}))),e.setProperty(s,"removeItem",e.createNativeFunction((function(e){if("string"!==typeof e)throw new TypeError("Key must be a string");delete n[e],o()}))),e.setProperty(s,"clear",e.createNativeFunction((function(){n={},o()}))),e.setProperty(t,"teaseStorage",s)},u=JSON.stringify(n),e.abrupt("return",{vm:i});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=7.72b095a7.chunk.js.map