(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,n){"use strict";var r=n(11),a=n(0),i=n.n(a),o=n(109),c=n(13),u=n(18),s=n.n(u);t.a=Object(c.b)(function(e){return{debug:e.debug}})(function(e){var t=e.debug,n=e.duration,c=e.style,u=e.onComplete,l=Object(a.useState)(!1),f=Object(r.a)(l,2),p=f[0],d=f[1],b=Object(o.a)(n)*n,m=function(){p||(d(!0),u&&u())};if(p)return null;if(b>=n)return m(),null;var h="",v=Math.ceil((n-b)/1e3),g=Math.floor(v/3600),y=Math.floor(v%3600/60),O=v%60;v>=3600&&(h+=g+":"+(y>=10?"":"0")),v>=60&&(h+=y+":"+(O>=10?"":"0")),h+=O;if("hidden"===c)return t?i.a.createElement("div",{className:s.a.root},i.a.createElement("button",{className:s.a.skip,onClick:m}),i.a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 ".concat(120," ").concat(120)}),i.a.createElement("div",{className:s.a.label},"Hidden\xa0",i.a.createElement("span",{className:s.a.debugText},"(",h,")"))):i.a.createElement("div",null);if("secret"===c)return i.a.createElement("div",{className:s.a.root},t?i.a.createElement("button",{className:s.a.skip,onClick:m}):null,i.a.createElement("svg",{className:s.a.secretTimer,width:"100%",height:"100%",viewBox:"0 0 ".concat(120," ").concat(120)},i.a.createElement("circle",{cx:60,cy:60,r:60,fill:"rgba(0,0,0,0.8)"}),i.a.createElement("circle",{cx:60,cy:60,r:50,stroke:"rgb(201, 86, 93)",strokeWidth:10,strokeDasharray:"54,360",strokeLinecap:"round",fill:"none"})),i.a.createElement("div",{className:s.a.label},"?",t?i.a.createElement("span",{className:s.a.debugText},"\xa0(",h,")"):null));var E,_=50,j=360/n*b,k=(90-j)*Math.PI/180,w=60+_*Math.cos(k),P=60-_*Math.sin(k);return E=n===b?"M ".concat(60,",").concat(10," A ").concat(_,",").concat(_," 0,1,1 ").concat(59.99,",").concat(10):"M ".concat(60,",").concat(10," A ").concat(_,",").concat(_," 0,").concat(+(j>180),",1 ").concat(w,",").concat(P),i.a.createElement("div",{className:s.a.root},t?i.a.createElement("button",{className:s.a.skip,onClick:m}):null,i.a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 ".concat(120," ").concat(120)},i.a.createElement("circle",{cx:60,cy:60,r:60,fill:"rgba(0,0,0,0.8)"}),i.a.createElement("path",{d:E,stroke:"rgb(201, 86, 93)",strokeWidth:10,strokeLinecap:"round",fill:"none"})),i.a.createElement("div",{className:s.a.label},h))})},109:function(e,t,n){"use strict";var r=n(11),a=n(0);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e12,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(a.useState)(0),i=Object(r.a)(n,2),o=i[0],c=i[1];return Object(a.useLayoutEffect)(function(){var n,r,a,i=function(){var t=Math.min(1,(Date.now()-a)/e);c(t),o()},o=function(){n=requestAnimationFrame(i)},u=setTimeout(function(){r=setTimeout(function(){cancelAnimationFrame(n),c(1)},e),a=Date.now(),o()},t);return function(){clearTimeout(r),clearTimeout(u),cancelAnimationFrame(n)}},[e,t]),o}},110:function(e,t,n){"use strict";var r=n(3),a=n(4),i=function(){function e(){Object(r.a)(this,e),this.callbacks=[]}return Object(a.a)(e,[{key:"registerInteractionCallback",value:function(e){if("function"!==typeof e)throw new TypeError("callback must be a function");this.callbacks.push(e)}},{key:"runInteractionCallbacks",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,a=this.callbacks[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){(0,r.value)()}}catch(i){t=!0,n=i}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}this.callbacks=[]}}]),e}();t.a=i},111:function(e,t,n){e.exports={root:"Button_root__28K_E"}},112:function(e,t,n){e.exports={root:"Bubble_root__1WuOT"}},113:function(e,t,n){e.exports={root:"SingleBubble_root__2r7DX"}},118:function(e,t,n){e.exports={root:"BubbleQueue_root__Q9y8s","fade-in":"BubbleQueue_fade-in__3ZneC"}},12:function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"c",function(){return v});var r,a=n(9),i=n(17),o=n(5),c=n(14),u=n(45),s=n(16),l={start:Object(s.createAction)("start"),load:Object(s.createAction)("load"),leavePage:Object(s.createAction)("leave page"),gotoPage:Object(s.createAction)("goto page"),setBackgroundColor:Object(s.createAction)("set background color"),setMedia:Object(s.createAction)("set media"),addBubble:Object(s.createAction)("add bubble"),addActivity:Object(s.createAction)("add activity"),addPageElement:Object(s.createAction)("add page element"),addUiElement:Object(s.createAction)("add ui element"),toggleDebug:Object(s.createAction)("toggle debug")},f={started:!1,title:"",author:"",preview:!1,script:{},page:"",pageElements:[],uiElements:[],bubbles:[],activities:[],statusEffects:[],debug:!1},p=0,d=(r={},Object(a.a)(r,l.start,function(e){return Object(c.a)({},e,{started:!0})}),Object(a.a)(r,l.load,function(e,t){var n=t.title,r=t.author,a=t.script,i=t.preview;return Object(c.a)({},e,{title:n,author:r,script:a,preview:i,debug:i})}),Object(a.a)(r,l.leavePage,function(e){return Object(c.a)({},e,{pageElements:[],bubbles:[],activities:[]})}),Object(a.a)(r,l.gotoPage,function(e,t){return Object(c.a)({},e,{page:t,pageElements:[],bubbles:[]})}),Object(a.a)(r,l.setBackgroundColor,function(e,t){return Object(c.a)({},e,{backgroundColor:t})}),Object(a.a)(r,l.setMedia,function(e,t){return Object(c.a)({},e,{media:t})}),Object(a.a)(r,l.addBubble,function(e,t){var n=e.bubbles,r=Object(o.a)(e,["bubbles"]);return Object(c.a)({},r,{bubbles:[].concat(Object(i.a)(n),[{key:p++,Component:t}])})}),Object(a.a)(r,l.addActivity,function(e,t){var n=e.activities,r=Object(o.a)(e,["activities"]);return Object(c.a)({},r,{activities:[].concat(Object(i.a)(n),[{key:p++,Component:t}])})}),Object(a.a)(r,l.addPageElement,function(e,t){var n=e.pageElements,r=Object(o.a)(e,["pageElements"]);return Object(c.a)({},r,{pageElements:[].concat(Object(i.a)(n),[{key:p++,Component:t}])})}),Object(a.a)(r,l.addUiElement,function(e,t){var n=e.uiElements,r=Object(o.a)(e,["uiElements"]);return Object(c.a)({},r,{uiElements:[].concat(Object(i.a)(n),[{key:p++,Component:t}])})}),Object(a.a)(r,l.toggleDebug,function(e){var t=e.debug,n=Object(o.a)(e,["debug"]);return Object(c.a)({},n,{debug:!t})}),r),b=Object(s.createReducer)(d,f),m=Object(u.b)(b,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d=Object(c.a)({},d,e),f=Object(c.a)({},f,t);var n=Object(s.createReducer)(d,f);m.replaceReducer(n)};t.b=m;var v=Object(u.a)(l,m.dispatch)},120:function(e,t,n){e.exports={root:"ActivitiesBar_root__5YoNy"}},121:function(e,t,n){e.exports={root:"Background_root__QnKRW"}},122:function(e,t,n){e.exports={root:"Viewport_root__1xGnl"}},126:function(e,t,n){e.exports=n(127)},127:function(e,t,n){"use strict";n.r(t);var r=n(19),a=n.n(r),i=n(61),o=n(124),c=n.n(o),u=n(200);n(196),n(197);u.a({dsn:"https://23d05799b8634b06bba3ab639538288c@sentry.io/1310432",environment:"production"});var s=i.a.deps=c()(),l=i.a.host=s(i.a);if(window.URLSearchParams){var f=new URLSearchParams(window.location.search),p=f.get("debug");p&&a.a.enable(p);var d=f.get("start");d&&l.setStartPage(d)}l.load()},150:function(e,t){},152:function(e,t){},18:function(e,t,n){e.exports={root:"TimerDisplay_root__SL54y",label:"TimerDisplay_label__ewcfy",secretTimer:"TimerDisplay_secretTimer__3WcVY","unknown-timer-rotate":"TimerDisplay_unknown-timer-rotate__65y9y",eosSecretTimerBackground:"TimerDisplay_eosSecretTimerBackground__2g0Nf",skip:"TimerDisplay_skip__3GZ26",debugText:"TimerDisplay_debugText__TnGXO"}},197:function(e,t,n){},20:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(2),a=n.n(r),i=n(6),o=n(3),c=n(4),u=function(){function e(){Object(o.a)(this,e),this.unique=0,this.callbacks=[],window.addEventListener("message",this.handleMessage.bind(this))}return Object(c.a)(e,[{key:"call",value:function(){var e=Object(i.a)(a.a.mark(function e(t,n){var r=this;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,a){var i=r.unique++;r.callbacks[i]={resolve:e,reject:a},window.parent.postMessage({jsonrpc:"2.0",method:t,params:n,id:i},"*")}));case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"handleMessage",value:function(e){var t=e.data,n=t.jsonrpc,r=t.result,a=t.error,i=t.id;if(("string"!==typeof e.data.type||!e.data.type.startsWith("webpack"))&&"2.0"===n)if("undefined"!==typeof i)if(this.callbacks[i]){var o=this.callbacks[i],c=o.resolve,u=o.reject;delete this.callbacks[i],"undefined"!==typeof r?c(r):"undefined"!==typeof a?u(new Error(a.message)):console.error("malformed rpc response from parent, no result or error given. id="+i)}else console.error("malformed rpc message from parent, wrong id or id used twice.");else console.error("malformed rpc message from parent, no id specified.")}}]),e}()},23:function(e,t,n){"use strict";var r=n(2),a=n.n(r),i=n(6),o=n(17),c=n(3),u=n(4);var s=function e(){Object(c.a)(this,e)};function l(e){if(!(t=e)||"object"!==typeof t&&"function"!==typeof t||"function"!==typeof t.then)throw new TypeError("makeCancelable must receive a promise");var t,n,r=new Promise(function(t,r){n=function(){return r(new s)},e.then(function(e){return t(e)},function(e){return r(e)})});return r.cancel=n,r}var f=n(12);n.d(t,"a",function(){return p});var p=function(){function e(t){Object(c.a)(this,e),this.currentActionPromise=null,this.actionQueue=[]}return Object(u.a)(e,[{key:"setQueue",value:function(e){this.stopQueue(),this.clearQueue(),this.actionQueue=e.slice(),this.startQueue()}},{key:"appendQueue",value:function(e){this.actionQueue=[].concat(Object(o.a)(this.actionQueue),Object(o.a)(e))}},{key:"prependQueue",value:function(e){this.actionQueue=[].concat(Object(o.a)(e),Object(o.a)(this.actionQueue))}},{key:"interrupt",value:function(e){this.stopQueue(),this.prependQueue(e),this.startQueue()}},{key:"startQueue",value:function(){var e=this;this.currentActionPromise||Object(i.a)(a.a.mark(function t(){var n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.actionQueue.length){t.next=12;break}if(!(n=e.actionQueue.shift()).prerender){t.next=6;break}return e.currentActionPromise=l(Promise.resolve(n.prerender())),t.next=6,e.currentActionPromise;case 6:return n.render&&("bubbles"===n.renderParent?f.c.addBubble(n.render):"activities"===n.renderParent?f.c.addActivity(n.render):"statusEffects"===n.renderParent?f.c.addStatusEffect(n.render):f.c.addPageElement(n.render)),e.currentActionPromise=l(Promise.resolve(n.run())),t.next=10,e.currentActionPromise;case 10:t.next=0;break;case 12:e.currentActionPromise=null;case 13:case"end":return t.stop()}},t)}))().catch(function(e){e instanceof s||console.error(e)})}},{key:"stopQueue",value:function(){this.currentActionPromise&&(this.currentActionPromise.cancel(),this.currentActionPromise=null)}},{key:"clearQueue",value:function(){this.actionQueue=[]}},{key:"peekNextAction",value:function(){return this.actionQueue[0]}}]),e}()},44:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(14),a=n(114),i=n.n(a),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"!==typeof e?{__html:""}:i()(e,Object(r.a)({whiteList:{br:[],b:[],i:[],u:[],strong:[],em:[],p:["style"],span:["class","style"]},css:{whiteList:{color:!0,"text-align":!0,"font-size":!0,"letter-spacing":!0}}},t))}},46:function(e,t,n){e.exports={root:"PromptBubble_root__fSr1O",done:"PromptBubble_done__3qOq8",result:"PromptBubble_result__1xJPq",measure:"PromptBubble_measure__2P-za"}},48:function(e,t,n){e.exports={root:"TextBubble_root__3Uhs_",alignLeft:"TextBubble_alignLeft__3F4Tk",alignRight:"TextBubble_alignRight__354xM",continueIndicator:"TextBubble_continueIndicator__sXRN-",cursor:"TextBubble_cursor__3RADp"}},49:function(e,t,n){e.exports={root:"DebugInterface_root__3CKfN",bar:"DebugInterface_bar__1RUJ-",title:"DebugInterface_title__380mE",page:"DebugInterface_page__3rdp-",contents:"DebugInterface_contents__1Ednz"}},50:function(e,t,n){e.exports={root:"TopBar_root__vkQ0A",tease:"TopBar_tease__1kRgf",author:"TopBar_author__1plow",authorButton:"TopBar_authorButton__Nrip5"}},58:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(11),a=n(41),i=n.n(a),o=n(19),c=n.n(o)()("eos:host:command:timer"),u=function(e){if(-1!==e.indexOf("-")){var t=e.split("-").map(function(e){return new i.a(e).milliseconds()}),n=Object(r.a)(t,2),a=n[0],o=n[1],u=Math.random()*(o-a)+a;return c("random duration. min=%s max=%s chosen=%s",a,o,u),new i.a(u)}return new i.a(e)}},60:function(e,t,n){"use strict";var r=n(2),a=n.n(r),i=n(6),o=n(3),c=n(4),u=n(20),s=n(12),l=function(){function e(t){Object(o.a)(this,e),this.outerSandbox=t(u.a)}return Object(c.a)(e,[{key:"getTitle",value:function(){return this._title}},{key:"getAuthor",value:function(){return this._author}},{key:"getScript",value:function(){return this._script}},{key:"load",value:function(){var e=Object(i.a)(a.a.mark(function e(){var t,n,r,i,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.outerSandbox.call("load");case 2:return t=e.sent,n=t.title,r=t.author,i=t.script,o=t.preview,this._title=n,this._author=r,this._script=i,this._preview=o,s.c.load({title:n,author:r,script:i,preview:o}),e.abrupt("return",this._script);case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}();t.a=l},61:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"noopCommand",function(){return h}),n.d(r,"choiceCommand",function(){return I}),n.d(r,"disableCommand",function(){return H}),n.d(r,"enableCommand",function(){return K}),n.d(r,"endCommand",function(){return J}),n.d(r,"evalCommand",function(){return Y}),n.d(r,"gotoCommand",function(){return $}),n.d(r,"ifCommand",function(){return ee}),n.d(r,"imageCommand",function(){return le}),n.d(r,"promptCommand",function(){return ve}),n.d(r,"sayCommand",function(){return Ae}),n.d(r,"timerCommand",function(){return Be});var a={};n.r(a),n.d(a,"nyxModule",function(){return Le}),n.d(a,"pcm2Module",function(){return Qe}),n.d(a,"audioModule",function(){return De}),n.d(a,"notificationModule",function(){return Ge}),n.d(a,"storageModule",function(){return Ie});var i={};n.r(i),n.d(i,"ConsoleVm",function(){return ze}),n.d(i,"EventsVm",function(){return Fe}),n.d(i,"PagesVm",function(){return qe});var o=n(11),c=n(2),u=n.n(c),s=n(6),l=n(3),f=n(4),p=n(32),d=n(31),b=n(30),m=n(33),h=function(e){e.host,e.deps,e.opts;return{run:function(){}}},v=n(0),g=n.n(v),y=n(83),O=n(5),E=n(10),_=n.n(E),j=n(112),k=n.n(j),w=function(e){var t=e.children,n=e.className,r=Object(O.a)(e,["children","className"]);return g.a.createElement("div",Object.assign({},r,{className:_()(n,k.a.root)}),t)},P=function(e){var t=e.children,n=Object(O.a)(e,["children"]);return g.a.createElement(w,n,t)},x=n(113),N=n.n(x),C=function(e){var t=e.children,n=e.className,r=Object(O.a)(e,["children","className"]);return g.a.createElement(w,Object.assign({className:_()(N.a.root,n)},r),t)},T=n(44),A=n(52),S=n.n(A),M=n(74),R=n.n(M),B=function(e){var t=e.options,n=e.onSelect,r=e.active,a=Object(v.useState)(null),i=Object(o.a)(a,2),c=i[0],u=i[1];return Object(v.useEffect)(function(){r||c||u({label:"\u22ef"})},[r,c]),c?g.a.createElement(C,{dangerouslySetInnerHTML:{__html:Object(T.a)("&gt; ".concat(c.label," &lt;"))}}):g.a.createElement(P,{className:R.a.root},t.map(function(e,t){var r=Object(T.a)(e.label);return g.a.createElement(y.a,{key:t,style:{backgroundColor:e.color||"#111"},className:R.a.button,onClick:function(){u(e),n(e)}},S()(r))}))},L=n(23),Q=n(7),D=/<eval>([^<]*)<\/eval>/gi;var G=function(){function e(t){Object(l.a)(this,e),this._virtualMachine=t(Q.b)}return Object(f.a)(e,[{key:"resolve",value:function(e){var t=this;return e.replace(D,function(e,n){return n.length?t._virtualMachine.eval("("+(r=n,(new DOMParser).parseFromString(r,"text/html").documentElement.textContent)+")"):"";var r})}}]),e}(),I=function(e){var t,n=e.deps,r=e.opts,a=(e.host,e.getCommand),i=r.options,o=n(L.a),c=n(G),u=i.map(function(e){var t=e.commands.map(function(e){return a(e)});return e.label=c.resolve(e.label),{label:e.label,visible:e.visible,color:e.color,preload:function(e){var n=e.depth;return Promise.all(t.map(function(e){return e.preload({depth:n})}))},run:function(){return o.prependQueue(t)}}}),s=new Promise(function(e){t=e});return{run:function(){return s},prerender:function(){var e=n(Q.b);u=u.filter(function(t){return"string"===typeof t.visible&&"$"===t.visible[0]?Boolean(e.eval(t.visible.slice(1))):"boolean"!==typeof t.visible||t.visible})},render:function(e){var n=e.active;return g.a.createElement(B,{active:n,options:u,onSelect:function(e){e.run(),t()}})},renderParent:"bubbles"}},U=n(37),z=n.n(U),F=n(19),q=n.n(F),V=q()("eos:PageTracker"),W=function(){function e(t){Object(l.a)(this,e),this.host=t(It),this.runCounter=0,this.disabledPages=new Set,this.currentPage=null,this.host.on("page",this.handlePage.bind(this))}return Object(f.a)(e,[{key:"enable",value:function(e){var t=z.a.filter(e),n=this.host.getPageNames().filter(t);V("pattern %s enables %s page(s)",e,n.length);var r=!0,a=!1,i=void 0;try{for(var o,c=n[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var u=o.value;this.disabledPages.delete(u)}}catch(s){a=!0,i=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}}},{key:"disable",value:function(e){var t=z.a.filter(e),n=this.host.getPageNames().filter(t);V("pattern %s disables %s page(s)",e,n.length);var r=!0,a=!1,i=void 0;try{for(var o,c=n[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var u=o.value;this.disabledPages.add(u)}}catch(s){a=!0,i=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}}},{key:"isEnabled",value:function(e){return!this.disabledPages.has(e)}},{key:"getCurrentPageId",value:function(){return this.currentPage}},{key:"handlePage",value:function(e){this.runCounter++,this.currentPage=e}}]),e}(),H=function(e){var t=e.deps,n=e.opts.target,r=(e.host,t(W));return{run:function(){r.disable(n)}}},K=function(e){var t=e.deps,n=e.opts.target,r=(e.host,t(W));return{run:function(){r.enable(n)}}},X=n(20),J=function(e){e.host;var t=e.deps;e.opts;return{run:function(){t(X.a).call("openRatingDialog")}}},Y=function(e){e.host;var t=e.deps,n=e.opts;return{run:function(){t(Q.b).eval(n.script)}}},Z=function(e){return"string"===typeof e&&("!"===e[0]||(-1!==e.indexOf("*")||(-1!==e.indexOf("?")||(-1!==e.indexOf("{")||-1!==e.indexOf("(")))))},$=function(e){var t=e.deps,n=(e.host,e.opts),r=n.target,a=(Object(O.a)(n,["target"]),e.getPage),i=e.getPagesByGlob,o=t(W),c=function(e){var t=e.filter(function(e){return o.isEnabled(e.id)});if(0===t.length)throw new Error("No eligible pages for pattern: "+r);return t[Math.floor(Math.random()*t.length)]};if("$"===r[0]){return{run:function(){var e=t(Q.b),n=r.slice(1),o=String(e.eval(n));if(Z(o)){var u=i(o);c(u).show()}else a(o).show()}}}if(Z(r)){var u=i(r);return{run:function(){c(u).show()}}}var s=a(r);return{run:function(){s.show()}}},ee=function(e){var t=e.deps,n=(e.host,e.opts),r=n.condition,a=n.commands,i=void 0===a?[]:a,o=e.getCommand,c=i.map(function(e){return o(e)});return{run:function(){var e=t(L.a);t(Q.b).eval("!!("+r+")")&&c.length&&e.prependQueue(c)}}},te=n(81),ne=n(76),re=n.n(ne),ae=function(e){var t=e.src;return g.a.createElement("div",{className:re.a.root},g.a.createElement("img",{className:re.a.picture,src:t,alt:""}))},ie=n(12),oe=n(77),ce=n.n(oe),ue=n(116),se=n.n(ue);ce.a.use(se.a);var le=function(e){var t=e.deps,n=e.opts;n.size=n.size||"xl";var r,a=n.locator,i=n.size,o=t(te.a);return{load:function(){var e=Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.preload({type:"image/jpeg",locator:a,size:i});case 2:r=e.sent;case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),run:function(){var e=Object(s.a)(u.a.mark(function e(){var t,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.a.from(r).getPalette();case 3:t=e.sent,n=t.DarkMuted,ie.c.setBackgroundColor(n.getHex()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.warn("Could not detect background color: "+e.t0.stack);case 11:ie.c.setMedia(g.a.createElement(ae,{src:r}));case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),unload:function(){o.revoke({type:"image/jpeg",locator:a,size:i})}}},fe=n(9),pe=n(46),de=n.n(pe),be=function(e){var t=e.onSubmit,n=e.active,r=Object(v.useState)(!1),a=Object(o.a)(r,2),i=a[0],c=a[1],u=Object(v.useState)(""),s=Object(o.a)(u,2),l=s[0],f=s[1],p=Object(v.useRef)();Object(v.useEffect)(function(){var e=p.current;!i&&e&&(e.previousElementSibling.style.width=e.offsetWidth+"px")}),Object(v.useEffect)(function(){n||i||(f("".concat(l,"\u2026")),c(!0))},[n,i,l]);return g.a.createElement(C,{className:_()(de.a.root,Object(fe.a)({},de.a.done,i))},i?g.a.createElement("div",{className:de.a.result},"> ",l):g.a.createElement("form",{onSubmit:function(e){c(!0),e.preventDefault(),"function"===typeof t&&t(l)}},g.a.createElement("input",{onChange:function(e){return f(e.target.value)}}),g.a.createElement("div",{ref:p,className:de.a.measure},l)))},me=n(117),he=n.n(me),ve=function(e){var t,n=e.deps,r=e.opts,a=n(Q.b),i=new Promise(function(e){t=e});return{run:function(){return i},render:function(e){var n=e.active;return g.a.createElement(be,{active:n,onSubmit:function(e){r.variable&&a.eval("".concat(r.variable," = '").concat(he()(e),"'")),t()}})},renderParent:"bubbles"}},ge=function(e){return(new DOMParser).parseFromString(e,"text/html").body.textContent||""},ye=function(e){return 1500+Math.max(30*ge(e).length,300*function(e){return(ge(e).trim().replace(/['";:,.?\xbf\-!\xa1]+/g,"").match(/\S+/g)||[]).length}(e))},Oe=n(62),Ee=n.n(Oe),_e=function(e){var t=e.className,n=e.debug,r=Object(O.a)(e,["className","debug"]);return g.a.createElement("div",Object.assign({},r,{className:_()(Ee.a.root,t,Object(fe.a)({},Ee.a.debug,n))}),g.a.createElement("div",{className:Ee.a.inner}))},je=n(13),ke=n(48),we=n.n(ke),Pe=function(e){var t=e.children,n=e.className,r=e.align,a=Object(O.a)(e,["children","className","align"]);return g.a.createElement(C,Object.assign({},a,{className:_()(n,we.a.root,{left:we.a.alignLeft,right:we.a.alignRight}[r])}),t)},xe=function(e){var t=e.children,n=e.className,r=Object(O.a)(e,["children","className"]);return g.a.createElement("div",Object.assign({className:_()(we.a.continueIndicator,n)},r),t)},Ne=Object(je.b)(function(e){return{debug:e.debug}})(function(e){var t=e.label,n=e.align,r=e.onContinue,a=e.host,i=e.mode,c=e.duration,u=e.allowSkip,s=e.active,l=e.debug,f=Object(v.useState)(!1),p=Object(o.a)(f,2),d=p[0],b=p[1],m=Object(v.useRef)(null);Object(v.useEffect)(function(){if(s){var e=function(){(!m.current||u||l)&&n()},n=function(){d||(b(!0),r&&r())};if(a.on("continue",e),r&&("autoplay"===i||"custom"===i)){var o="autoplay"===i?ye(t):c;m.current=setTimeout(function(){n()},o)}return"instant"===i&&n(),function(){a.removeListener("continue",e),m.current&&clearTimeout(m.current)}}b(!0)},[s,u,d,c,a,t,i,r,l]);var h=Object(T.a)(t);return g.a.createElement(Pe,{align:n},g.a.createElement("div",null,S()(h)),d?null:function(e,t){return"pause"===e||t}(i,u)?g.a.createElement(xe,null,g.a.createElement(_e,null)):l?g.a.createElement(xe,null,g.a.createElement(_e,{debug:!0})):null)}),Ce=n(58),Te=["prompt","choice"],Ae=function(e){var t,n,r=e.deps,a=e.opts,i=e.host,o=new Promise(function(e){t=e});return{run:function(){return o},prerender:function(){var e=r(G);n=e.resolve(a.label)},render:function(e){var o,c=e.active,u=r(L.a),s=Object(Ce.a)(a.duration||"0s"),l=a.mode&&"auto"!==a.mode?a.mode:(o=u.peekNextAction())&&(-1!==Te.indexOf(o.type)||"timer"===o.type&&!o.opts.isAsync)?"instant":"pause";return g.a.createElement(Ne,{active:c,label:n,mode:l,align:a.align||"center",allowSkip:a.allowSkip,duration:s.milliseconds(),host:i,onContinue:t})},renderParent:"bubbles"}},Se=n(108),Me=n(41),Re=n.n(Me),Be=function(e){e.host;var t,n,r=e.deps,a=e.opts,i=e.getCommand,o=r(L.a),c=(a.commands||[]).map(function(e){return i(e)}),l=new Promise(function(e){t=e});return{run:function(){var e=Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.isAsync&&t(),e.next=3,l;case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),prerender:function(){if("$"===a.duration[0]){var e=r(Q.b),t=a.duration.slice(1);n=new Re.a(Number(e.eval(t)))}else n=Object(Ce.a)(a.duration)},render:function(){return g.a.createElement(Se.a,{duration:n.milliseconds(),style:a.style,onComplete:function(){c.length&&o.interrupt(c),t()}})},renderParent:"activities"}},Le=function(){return n.e(3).then(n.bind(null,219))},Qe=function(){return n.e(6).then(n.bind(null,220))},De=function(){return Promise.all([n.e(8),n.e(5)]).then(n.bind(null,222))},Ge=function(){return n.e(4).then(n.bind(null,221))},Ie=function(){return n.e(7).then(n.bind(null,218))},Ue=n(17),ze=function(){function e(){Object(l.a)(this,e)}return Object(f.a)(e,[{key:"init",value:function(e,t){var n=this;this.CONSOLE=e.createObject(e.OBJECT),e.setProperty(t,"console",this.CONSOLE),["log","info","warn","error"].forEach(function(t){e.setProperty(n.CONSOLE,t,e.createNativeFunction(function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];var o,c;n=e.pseudoToNative(n),a=a.map(function(t){return e.pseudoToNative(t)}),"string"===typeof n?(o=console)[t].apply(o,["vm: "+n].concat(Object(Ue.a)(a))):(c=console)[t].apply(c,["vm:",n].concat(Object(Ue.a)(a)))}),Q.a.NONENUMERABLE_DESCRIPTOR)})}}]),e}(),Fe=function(){function e(){Object(l.a)(this,e)}return Object(f.a)(e,[{key:"init",value:function(e,t){e.appendCode("\n      function EventTarget() {\n      }\n\n      Object.defineProperties(EventTarget.prototype, {\n        listeners: {\n          get: function () {\n            return this._listeners || []\n          }\n        }\n      })\n\n      EventTarget.prototype.addEventListener = function(type, newListener) {\n        var listeners\n        var listener\n\n        if (!type || !newListener) return\n\n        if (this._listeners === undefined) {\n          this._listeners = {}\n        }\n\n        listeners = this._listeners[type]\n\n        if (listeners === undefined) {\n          this._listeners[type] = listeners = []\n        }\n\n        for (var i = 0; !!(listener = listeners[i]); i++) {\n          if (listener === newListener) return\n        }\n\n        listeners.push(newListener)\n      }\n\n      EventTarget.prototype.removeEventListener = function(type, oldListener) {\n        var listeners\n        var listener\n\n        if (!type || !oldListener) {\n          return\n        }\n\n        if (this._listeners === undefined) return\n\n        listeners = this._listeners[type]\n\n        if (listeners === undefined) return\n\n        for (var i = 0; !!(listener = listeners[i]); i++) {\n          if (listener === oldListener) {\n            listeners.splice(i, 1)\n          }\n        }\n\n        if (listeners.length === 0) {\n          delete this._listeners[type]\n        }\n      }\n\n      EventTarget.prototype.dispatchEvent = function(event) {\n        var listeners\n        var stopImmediatePropagation = false\n        var listener\n\n        if (!event) {\n          throw new TypeError('parameter 1 is not of type \"Event\"')\n        }\n\n        event.stopImmediatePropagation = function() {\n          stopImmediatePropagation = true\n        }\n\n        listeners = ((this._listeners || {})[event.type] || [])\n\n        for (var i = 0; !!(listener = listeners[i]); i++) {\n          if (stopImmediatePropagation) break\n\n          try {\n            listener.call(this, event)\n          } catch (error) {\n            console.error(error)\n          }\n        }\n\n        return !event.defaultPrevented\n      }\n\n      function Event(type) {\n        this.type = type\n        this.timeStamp = Date.now()\n        this.cancelable = false\n      }\n    "),e.run()}}]),e}(),qe=function(){function e(t){Object(l.a)(this,e),this.host=t(It),this.virtualMachine=t(Q.b),this.pageTracker=t(W)}return Object(f.a)(e,[{key:"init",value:function(e,t){var n=this;this.PAGE_MANAGER=e.createNativeFunction(function(){throw new Error("Cannot construct PageManager object, use `pages` global")},!0),e.setProperty(this.PAGE_MANAGER,"prototype",e.createObject(t.properties.EventTarget),Q.a.NONENUMERABLE_DESCRIPTOR),this.PAGE_MANAGER_PROTO=this.PAGE_MANAGER.properties.prototype,e.setProperty(t,"PageManager",this.PAGE_MANAGER);e.setNativeFunctionPrototype(this.PAGE_MANAGER,"isEnabled",function(e){if("string"!==typeof e)throw new TypeError("pageId must be a string");return n.pageTracker.isEnabled(e)}),e.setNativeFunctionPrototype(this.PAGE_MANAGER,"enable",function(e){if("string"!==typeof e)throw new TypeError("pattern must be a string");n.pageTracker.enable(e)}),e.setNativeFunctionPrototype(this.PAGE_MANAGER,"disable",function(e){if("string"!==typeof e)throw new TypeError("pattern must be a string");n.pageTracker.disable(e)}),e.setNativeFunctionPrototype(this.PAGE_MANAGER,"getCurrentPageId",function(){return n.pageTracker.getCurrentPageId()}),e.setNativeFunctionPrototype(this.PAGE_MANAGER,"goto",function(e){if("string"!==typeof e)throw new TypeError("pageId must be a string");return n.host.showPage(e)}),this.PAGES=e.createObjectProto(this.PAGE_MANAGER_PROTO),e.setProperty(t,"pages",this.PAGES),this.host.on("page",function(){n.virtualMachine.dispatchEvent({target:n.PAGES,type:"change"})})}}]),e}(),Ve=n(27),We=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(p.a)(this,Object(d.a)(t).call(this))).step=e.step.bind(Object(b.a)(e)),e}return Object(m.a)(t,e),Object(f.a)(t,[{key:"start",value:function(){window.requestAnimationFrame(this.step)}},{key:"step",value:function(){this.emit("step"),window.requestAnimationFrame(this.step)}}]),t}(Ve.EventEmitter),He=n(60),Ke=n(59),Xe=n.n(Ke),Je=n(118),Ye=n.n(Je),Ze=n(119),$e=function(e){var t=e.bubbles,n=Object(v.useRef)(),r=Object(v.useRef)(!1),a=Object(v.useRef)(0);return Object(v.useEffect)(function(){var e=function(e){var t=n.current;t.scrollTop<a.current?r.current=!0:t.scrollTop===t.scrollHeight-t.clientHeight&&(r.current=!1),a.current=t.scrollTop},t=n.current;return t.addEventListener("scroll",e),function(){t.removeEventListener("scroll",e)}},[]),Object(v.useEffect)(function(){var e=!r.current,t=n.current,a=t.scrollHeight-t.clientHeight;e&&Object(Ze.a)(t,{scrollTop:a+"px"},{easing:[.4,0,.2,1],duration:300})}),g.a.createElement("div",{ref:n,className:Ye.a.root},t.slice().map(function(e,n){var r=e.Component,a=e.key;return g.a.createElement(r,{key:a,active:n===t.length-1})}))},et=n(120),tt=n.n(et),nt=function(e){var t=e.activities;return g.a.createElement("div",{className:tt.a.root},t.map(function(e){var t=e.Component,n=e.key;return g.a.createElement(t,{key:n})}))},rt=Object(v.createContext)(),at=rt.Provider,it=rt.Consumer,ot=function(e){return function(t){var n=t.children,r=Object(O.a)(t,["children"]);return g.a.createElement(it,null,function(t){return g.a.createElement(e,Object.assign({},r,{deps:t}),n)})}},ct=n(110),ut=n(63),st=n.n(ut),lt=Object(je.b)(function(e){return{title:e.title,author:e.author}})(ot(function(e){var t=e.deps,n=e.title,r=e.author,a=t(It),i=t(ct.a);return g.a.createElement("div",{className:st.a.root,onClick:function(){i.runInteractionCallbacks(),a.runScript()}},g.a.createElement("div",{style:{flex:2}}),g.a.createElement("h1",null,n),g.a.createElement("h2",null,"by ",r),g.a.createElement("div",{style:{flex:1}}),g.a.createElement("div",{className:st.a.start},"Click to start"),g.a.createElement(_e,{className:st.a.blinky}),g.a.createElement("div",{style:{flex:1}}))})),ft=n(14),pt=n(121),dt=n.n(pt),bt=function(e){var t=e.children,n=e.className,r=e.color,a=e.style,i=Object(O.a)(e,["children","className","color","style"]);return g.a.createElement("div",Object.assign({className:_()(dt.a.root,n),style:Object(ft.a)({backgroundColor:r},a)},i),t)},mt=n(122),ht=n.n(mt),vt=ot(Object(je.b)(function(e){return{started:e.started,bubbles:e.bubbles,activities:e.activities,pageElements:e.pageElements,uiElements:e.uiElements,backgroundColor:e.backgroundColor,media:e.media}})(function(e){var t=e.viewportRef,n=e.bubbles,r=e.activities,a=e.pageElements,i=e.uiElements,o=e.backgroundColor,c=e.media,u=e.started,s=(0,e.deps)(It);return g.a.createElement("div",{className:ht.a.root,onClick:s.handleGlobalClick,ref:t},u?null:g.a.createElement(lt,null),g.a.createElement(bt,{color:o}),c,r.length?g.a.createElement(nt,{activities:r}):null,n.length?g.a.createElement($e,{bubbles:n}):null,a.map(function(e){var t=e.key,n=e.Component;return g.a.createElement(n,{key:t})}),i.map(function(e){var t=e.key,n=e.Component;return g.a.createElement(n,{key:t})}))})),gt=n(49),yt=n.n(gt),Ot=ot(Object(je.b)(function(e){return{page:e.page}})(function(e){var t=e.page,n=e.deps,r=function(){var e=Object(s.a)(u.a.mark(function e(){var t,r,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=prompt("Enter page to jump to:"))){e.next=7;break}return r=n(It),e.next=5,r.getPage(t);case 5:(a=e.sent)?a.show():alert("No page found with that name!");case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return g.a.createElement("div",{className:yt.a.root},g.a.createElement("div",{className:yt.a.bar},g.a.createElement("h5",{className:yt.a.title},"Debug"),g.a.createElement("button",{className:yt.a.page,onClick:r},t)),null)})),Et=Object(je.b)(function(e){return{debug:e.debug}})(function(e){return e.debug?g.a.createElement(Ot,null):null}),_t=n(38),jt=n(79),kt=n.n(jt),wt=function(e){var t=e.children,n=e.className,r=e.hide,a=Object(O.a)(e,["children","className","hide"]);return g.a.createElement("div",Object.assign({className:_()(kt.a.root,Object(fe.a)({},kt.a.hide,r),n)},a),t)},Pt=ot(function(e){var t=(0,e.deps)(X.a);return g.a.createElement(wt,{onClick:function(e){e.stopPropagation(),t.call("openRatingDialog")}},g.a.createElement(_t.d,{size:20,color:"white"}))}),xt=n(80),Nt=n.n(xt),Ct=Object(je.b)(function(e){return{preview:e.preview,debug:e.debug}})(ot(function(e){var t=e.preview,n=e.debug;e.deps;return t?g.a.createElement(wt,{className:_()(Nt.a.root,n?Nt.a.enabled:null),onClick:function(e){e.stopPropagation(),ie.c.toggleDebug()}},g.a.createElement(_t.a,{size:20,color:"white"})):null})),Tt=n(24),At=n.n(Tt),St=function(e){var t=e.viewportRef,n=Object(v.useState)(!1),r=Object(o.a)(n,2),a=r[0],i=r[1];return Object(v.useEffect)(function(){var e=function(){a!==At.a.isFullscreen&&i(At.a.isFullscreen)};return At.a.enabled&&At.a.on("change",e),function(){At.a.enabled&&At.a.off("change",e)}},[a]),At.a.enabled?g.a.createElement(wt,{onClick:function(e){if(e.stopPropagation(),a)At.a.exit();else{if(!t.current)return;At.a.request(t.current)}i(!a)}},a?g.a.createElement(_t.c,{size:24,color:"white"}):g.a.createElement(_t.b,{size:24,color:"white"})):null},Mt=n(50),Rt=n.n(Mt),Bt=Object(je.b)(function(e){return{title:e.title,author:e.author}})(ot(function(e){var t=e.deps,n=e.title,r=e.author,a=e.viewportRef,i=t(X.a);return g.a.createElement("div",{className:Rt.a.root},g.a.createElement("span",{className:Rt.a.tease},n),g.a.createElement("span",{className:Rt.a.author},g.a.createElement("button",{className:Rt.a.authorButton,onClick:function(){return i.call("goToAuthor")}},r)),g.a.createElement("div",{style:{flex:1}}),g.a.createElement(Et,null),g.a.createElement(Ct,null),g.a.createElement(Pt,null),g.a.createElement(St,{viewportRef:a}))})),Lt=n(36),Qt=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).state={error:null},n.viewportRef=Object(v.createRef)(),n}return Object(m.a)(t,e),Object(f.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e}),Lt.b(function(n){Object.keys(t).forEach(function(e){n.setExtra(e,t[e])}),Lt.a(e)})}},{key:"render",value:function(){var e=this.props.deps;return g.a.createElement(je.a,{store:ie.b},g.a.createElement(at,{value:e},g.a.createElement(Bt,{viewportRef:this.viewportRef}),g.a.createElement(vt,{viewportRef:this.viewportRef})))}}]),t}(v.Component),Dt=q()("eos:host:EosHost"),Gt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this))).handleGlobalClick=function(){n.emit("continue")},n.handleGlobalKeydown=function(e){32===e.which&&n.emit("continue")},n.getPageNames=function(){return n.pageNames},n._deps=e,n.modules={},n.pages={},n.pageNames=[],n.currentPage=null,n.startPageId="start",n.startPage=null,n.virtualMachine=n._deps(Q.b),n.outerSandbox=n._deps(X.a),n.animator=n._deps(We),n.actionQueue=n._deps(L.a),n.script=n._deps(He.a),document.body.addEventListener("keydown",n.handleGlobalKeydown.bind(Object(b.a)(n))),n}return Object(m.a)(t,e),Object(f.a)(t,[{key:"setStartPage",value:function(e){this.startPageId=e}},{key:"load",value:function(){var e=this;Object(s.a)(u.a.mark(function t(){var n,r,a,i,o;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.animator.start(),(n=document.querySelector("#eosScriptPreloader > p")).textContent="Loading script",t.next=5,e.script.load();case 5:if(r=t.sent,n.textContent="Loading modules",!r.modules){t.next=16;break}a=0,i=Object.keys(r.modules);case 9:if(!(a<i.length)){t.next=16;break}return o=i[a],t.next=13,e.loadModule(o,r.modules[o]);case 13:a++,t.next=9;break;case 16:return e.pages=r.pages,e.pageNames=Object.keys(r.pages),e.initVirtualMachine(),r.init&&e.virtualMachine.eval(r.init),n.textContent="Loading media",t.next=23,e.preloadPage(e.startPageId,1);case 23:return e.startPage=t.sent,e.removePreloader(),t.next=27,new Promise(function(t){Xe.a.render(g.a.createElement(Qt,{host:e,deps:e._deps}),document.getElementById("eosContainer"),t)});case 27:case"end":return t.stop()}},t)}))().catch(function(e){console.error("script error:",e)})}},{key:"initVirtualMachine",value:function(){var e=Object(s.a)(u.a.mark(function e(){var t,n=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=[].concat(Object.values(i).map(function(e){return n._deps(e)}).map(function(e){return e.init.bind(e)}),Object.values(this.modules).map(function(e){return e.vm}).filter(Boolean)),this.virtualMachine.init(t);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"runScript",value:function(){var e=Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Dt("start tease"),ie.c.start(),this.startPage.show();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"loadModule",value:function(){var e=Object(s.a)(u.a.mark(function e(t,n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a[t+"Module"]){e.next=2;break}throw new Error("Invalid module: "+t);case 2:return e.next=4,a[t+"Module"]();case 4:return r=e.sent,e.next=7,r.default(this._deps);case 7:this.modules[t]=e.sent,console.info("loaded module:",t);case 9:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"removePreloader",value:function(){var e=document.getElementById("eosScriptPreloader");e.parentNode.removeChild(e)}},{key:"getPage",value:function(e){var t=this,n=this.pages[e];if(n){var r=[],a=new Map,i=!1,o=!1,c=function(e){if(t.pages[e]){if(a.get(e))return a.get(e);for(var n={id:e},r=["preload","unload","show"],i=function(){var a=c[o];n[a]=function(){for(var i=t.getPage(e),o=0,c=r;o<c.length;o++){var u=c[o];n[u]=i[u]}return n[a]()}},o=0,c=r;o<c.length;o++)i();return a.set(e,n),n}Dt("page %s not found",e)},l=function(e){var n=z.a.filter(e);return t.pageNames.filter(n).map(c)},f=function(){var t=Object(s.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i){t.next=2;break}return t.abrupt("return",i);case 2:return Dt("preload page %s",e),i=Promise.all(r.map(function(e){return e.load()})),t.next=6,i;case 6:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),p=n.map(function(e){return function e(n){var a=Object.keys(n)[0],i=t.getCommandByType(a);if("function"!==typeof i)throw new Error("Invalid command: "+a);var o=Object.assign({type:a,opts:n[a],load:function(){var e=Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),unload:function(){},run:function(){},render:null},i({deps:t._deps,host:t,opts:n[a],getCommand:e,getPage:c,getPagesByGlob:l}));return r.push(o),o}(e)}),d={id:e,preload:f,unload:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(Dt("unload page %s",e),o){var n=!0,i=!1,c=void 0;try{for(var u,s=a.values()[Symbol.iterator]();!(n=(u=s.next()).done);n=!0){var l=u.value;-1===t.indexOf(l.id)&&l.unload()}}catch(d){i=!0,c=d}finally{try{n||null==s.return||s.return()}finally{if(i)throw c}}}for(var f=0,p=r;f<p.length;f++)p[f].unload()},show:function(){var n=Object(s.a)(u.a.mark(function n(){return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Dt("show page %s",e),o=!0,ie.c.leavePage(),t.actionQueue.stopQueue(),t.actionQueue.clearQueue(),n.next=7,f();case 7:return Array.from(a.values()).forEach(function(e){e.preload().catch(function(t){console.error("Error preloading page "+e.id+": "+(t&&t.stack?t.stack:t))})}),t.currentPage&&t.currentPage.unload([e]),ie.c.gotoPage(e),t.currentPage=d,t.emit("page",e),n.abrupt("return",t.actionQueue.setQueue(p));case 13:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}()};return d}}},{key:"preloadPage",value:function(){var e=Object(s.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.getPage(t))){e.next=4;break}return e.next=4,n.preload();case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"preloadCommand",value:function(){var e=Object(s.a)(u.a.mark(function e(t){var n,r,a=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=a.length>1&&void 0!==a[1]?a[1]:0)<0)){e.next=3;break}return e.abrupt("return");case 3:if("function"!==typeof(r=this.getCommand(t)).preload){e.next=7;break}return e.next=7,r.preload({depth:n});case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"showPage",value:function(){var e=Object(s.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(ie.c.gotoPage(t),this.pages[t]){e.next=3;break}throw new Error("No such page: "+t);case 3:return n=this.getPage(t),e.prev=4,e.next=7,n.show();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),console.error(e.t0,"(page ".concat(t,")"));case 12:case"end":return e.stop()}},e,this,[[4,9]])}));return function(t){return e.apply(this,arguments)}}()},{key:"runCommands",value:function(e){return this.actionQueue.setQueue(e)}},{key:"getCommandByType",value:function(e){if(-1!==e.indexOf(".")){var t=e.split("."),n=Object(o.a)(t,2),a=n[0],i=n[1];if(!this.modules[a])throw new Error("Module not available: "+a);return this.modules[a].commands[i+"Command"]}return r[e+"Command"]}}]),t}(Ve.EventEmitter),It=t.a=Gt},62:function(e,t,n){e.exports={root:"BlinkyTriangle_root__1cyox",pulse:"BlinkyTriangle_pulse__3YeTT",inner:"BlinkyTriangle_inner__3RqhK",debug:"BlinkyTriangle_debug__bxlFM",move:"BlinkyTriangle_move__1DocI"}},63:function(e,t,n){e.exports={root:"SplashScreen_root__3vtZk",start:"SplashScreen_start__1C1S7",blinky:"SplashScreen_blinky__2o3So"}},7:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(3),a=n(4),i=n(32),o=n(31),c=n(30),u=n(33),s=n(27),l=n(19),f=n.n(l),p=window.Interpreter,d=f()("eos:host:VirtualMachine"),b=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(i.a)(this,Object(o.a)(t).call(this))).init=e.init.bind(Object(c.a)(e)),e._interpreter=null,e}return Object(u.a)(t,e),Object(a.a)(t,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._interpreter=new p("");var t=!0,n=!1,r=void 0;try{for(var a,i=e[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;o(this._interpreter,this._interpreter.global)}}catch(c){n=!0,r=c}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}this.emit("init",this._interpreter,this._interpreter.global)}},{key:"eval",value:function(e){return d("eval: %s",e),this.emit("preEval",this._interpreter),this._interpreter.appendCode(e),this._interpreter.run(),this.emit("postEval",this._interpreter),this._interpreter.value}},{key:"dispatchEvent",value:function(e){var t=e.target,n=e.type,r=e.eventClass,a=void 0===r?"Event":r,i=this._interpreter.global.properties.EventTarget;if(!this._interpreter.isa(t,i))throw new TypeError("tried to dispatch an event on a non-EventTarget");this._interpreter.setProperty(i,"currentTarget",t),this._interpreter.appendCode("EventTarget.currentTarget.dispatchEvent(new ".concat(a,"('").concat(n,"'))")),this._interpreter.run()}}]),t}(s.EventEmitter);t.b=b},74:function(e,t,n){e.exports={root:"ChoiceBubble_root__38cRB",button:"ChoiceBubble_button__1Ldsc"}},76:function(e,t,n){e.exports={root:"Picture_root__1KcRX",picture:"Picture_picture__1i_KS"}},79:function(e,t,n){e.exports={root:"ToolbarButton_root__3rVYt",hide:"ToolbarButton_hide__1GelM"}},80:function(e,t,n){e.exports={enabled:"DebugButton_enabled__3z0MU"}},81:function(e,t,n){"use strict";var r=n(2),a=n.n(r),i=n(6),o=n(3),c=n(4),u=n(20),s=n(60),l=n(11),f=n(37),p=n.n(f),d={"image/jpeg":"jpg","audio/mpeg":"mp3"},b=function(e,t){var n=t.files,r=t.galleries,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e.startsWith("gallery:")){var i=e.slice("gallery:".length).split("/"),o=Object(l.a)(i,2),c=o[0],u=o[1],s=r[c];if(s)return Object.assign({type:"image/jpeg"},"*"===u?s.images[Math.floor(Math.random()*s.images.length)]:s.images.find(function(e){return e.id===Number(u)}))}else if(e.startsWith("file:")){var f=p.a.filter(e.slice("file:".length)),d=Object.keys(n).filter(f).map(function(e){return Object.assign({name:e},n[e])}).filter(function(e){return!a||e.type===a});return d[Math.floor(Math.random()*d.length)]}},m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"l";return"image/jpeg"===t?h(e,n):v(e,t)},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"l";return"https://media.milovana.com/timg/tb_".concat(t,"/").concat(e,".jpg?origin=").concat(window.location.origin)},v=function(e,t){return"https://media.milovana.com/timg/".concat(e,".").concat(d[t],"?origin=").concat(window.location.origin)},g=n(19),y=n.n(g)()("eos:host:Preloader"),O=function(){function e(t){Object(o.a)(this,e),this._cache={},this.script=t(s.a),this.outerSandbox=t(u.a)}return Object(c.a)(e,[{key:"preload",value:function(){var e=Object(i.a)(a.a.mark(function e(t){var n,r,i,o,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.locator,r=t.type,i=t.size,c=r+":"+(o=void 0===i?"s":i)+":"+n,!this._cache[c]){e.next=5;break}return this._cache[c].refCount++,e.abrupt("return",this._cache[c].objUrl);case 5:if(!(-1!==n.indexOf("*"))){e.next=10;break}return e.abrupt("return",this.load({locator:n,type:r,size:o}));case 10:return y("create %s",c),this._cache[c]={refCount:1,objUrl:this.load({locator:n,type:r,size:o})},e.abrupt("return",this._cache[c].objUrl);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"revoke",value:function(e){var t=e.locator,n=e.type,r=e.size,a=n+":"+(void 0===r?"s":r)+":"+t;this._cache[a]&&(this._cache[a].refCount--,this._cache[a].refCount<=0&&(y("revoke %s",a),URL.revokeObjectURL(this._cache[a].objUrl),delete this._cache[a],y("current cache %j",this._cache)))}},{key:"load",value:function(){var e=Object(i.a)(a.a.mark(function e(t){var n,r,i,o,c,u,s,l;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.locator,r=t.type,i=t.size,o=n&&b(n,this.script.getScript(),r)){e.next=4;break}return e.abrupt("return",void 0);case 4:return c=m(o.hash,o.type,i),e.next=7,fetch(c);case 7:return u=e.sent,e.next=10,u.blob();case 10:return s=e.sent,l=URL.createObjectURL(s),e.abrupt("return",l);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();t.a=O},83:function(e,t,n){"use strict";var r=n(5),a=n(0),i=n.n(a),o=n(111),c=n.n(o),u=n(10),s=n.n(u);t.a=function(e){var t=e.children,n=e.className,a=Object(r.a)(e,["children","className"]);return i.a.createElement("div",Object.assign({className:s()(c.a.root,n)},a),t)}}},[[126,1,2]]]);
//# sourceMappingURL=main.ca40d0d2.chunk.js.map